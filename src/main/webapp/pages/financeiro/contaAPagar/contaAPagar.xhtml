<ui:composition template="/WEB-INF/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">

	<ui:define name="titulo">Contas a Pagar</ui:define>

	<ui:define name="corpo">

		<style>
<!--
.rotuloDesRec {
	width: 100px !important;
}

.campoDesRec {
	width: 350px !important;
}

.rotuloFiltro1 {
	width: 115px !important;
}

.campoFiltro1 {
	width: 100px !important;
}

.red {
	color: red !important;
}

.corLabel {
	color: black !important;
}

.rotuloInfTitulo1 {
	width: 100px !important;
}

.campoInfTitulo1 {
	width: 120px !important;
}

.rotuloInfConta1 {
	width: 130px !important;
}

.campoInfConta1 {
	width: 300px !important;
}

.rotuloInfConta2 {
	width: 107px !important;
}

.campoInfConta2 {
	width: 150px !important;
}
-->
</style>


		<f:metadata>
			<o:viewAction action="#{contaAPagarBean.inicializar()}" />
		</f:metadata>

		<h1>Contas a Pagar</h1>

		<h:form id="frm-menu" prependId="false">

			<!-- BOTÕES DE AÇÕES -->

			<p:toolbar style="margin-top: 15px" styleClass="semPreenchimento"
				id="toolbar-botoes">

				<p:toolbarGroup>

					<p:commandButton icon="fa fa-file-o" value="Novo" id="btnNovo"
						update="dgCadastro" oncomplete="PF('dialogCadastro').show()"
						process="@this" action="#{contaAPagarBean.novo}">
						<p:resetInput target="dgCadastro" />
					</p:commandButton>

					<p:commandButton icon="fa fa-pencil" value="Editar"
						style="margin-left:3px; margin-right: 3px;" id="btnEdit"
						process="@this frm-tabela"
						oncomplete="#{contaAPagarBean.permitirEditar == 'true'} ? PF('dialogCadastro').show() : PF('dialogInfoEdicao').show()"
						update="dgCadastro dgInfoEdicao"
						disabled="#{contaAPagarBean.contaApagarSelecionadas.size()!=1}">
					</p:commandButton>

					<p:commandButton icon="fa fa-trash" value="Excluir" id="btnExcluir"
						style="margin-right: 3px;" process="@this"
						update="confirmacaoExclusaoDialog"
						oncomplete="PF('confirmacaoExclusao').show()"
						disabled="#{contaAPagarBean.contaApagarSelecionadas.size()==0}">
					</p:commandButton>

					<ui:remove>
						<p:commandButton icon="fa fa-copy" value="Duplicar"
							style="margin-right: 3px;" id="btnDuplicar"
							update="form-duplicar"
							oncomplete="PF('duplicarContaApagar').show()"
							disabled="#{contaAPagarBean.contaApagarSelecionadas.size()!=1}">
						</p:commandButton>
					</ui:remove>

					<p:commandButton icon="fa fa-check" value="Baixar Titulo(s)"
						id="btnRecebimento" update=":dialogBaixaTitulo"
						oncomplete="PF('baixaTitulo').show()"
						action="#{contaAPagarBean.iniciarBaixaTitulo()}"
						disabled="#{contaAPagarBean.contaApagarSelecionadas.size() == 0}">
						<p:resetInput target="frm-baixa-titulo" />
					</p:commandButton>

					<p:separator />

					<p:commandButton icon="fa fa-filter" title="Filtrar Registro"
						actionListener="#{contaAPagarBean.novoFiltro()}"
						update="frm-dialog" oncomplete="PF('dialogFiltro').show()"
						process="@this">
						<p:resetInput target="frm-dialog" />
					</p:commandButton>

				</p:toolbarGroup>

				<p:toolbarGroup align="right">
					<p:button value="Fechar" icon="fa fa-power-off" outcome="/home" />
				</p:toolbarGroup>

			</p:toolbar>

		</h:form>

		<!-- TABELA DE LANÇAMENTO EM CONTA -->
		<h:form id="frm-tabela" prependId="false">
			<p:dataTable id="tbl-conta-apagar"
				value="#{contaAPagarBean.listaContaAPagars}" var="cp"
				style="margin-top: 10px; margin-bottom:10px;" rows="13"
				paginatorTemplate="{FirstPageLink} {PreviousPageLink}  
				{NextPageLink} {LastPageLink} {CurrentPageReport} {JumpToPageDropdown}"
				emptyMessage="Nenhuma registro encontrado." scrollable="true"
				scrollHeight="350" rowStyleClass="#{cp.dias le 0 ? null : 'red'}"
				selection="#{contaAPagarBean.contaApagarSelecionadas}"
				rowKey="#{cp.id}">

				<p:ajax event="rowSelect" update="toolbar-botoes toolbar-totais"
					listener="#{contaAPagarBean.rowSelect}" />
				<p:ajax event="rowUnselect" update="toolbar-botoes toolbar-totais"
					listener="#{contaAPagarBean.rowUnSelect}" />
				<p:ajax event="toggleSelect" update="toolbar-botoes toolbar-totais"
					listener="#{contaAPagarBean.onRowSelectAll}" />
				<p:ajax event="rowSelectCheckbox"
					update="toolbar-botoes toolbar-totais"
					listener="#{contaAPagarBean.rowSelectCheckBox}" />
				<p:ajax event="rowUnselectCheckbox"
					update="toolbar-botoes toolbar-totais"
					listener="#{contaAPagarBean.rowUnSelect}" />



				<p:column selectionMode="multiple"
					style="width:1px;text-align:center" />

				<p:column sortBy="#{cp.numDoc}"
					style="text-align: right; width:30px;" headerText="Documento">
					<h:outputText value="#{cp.numDoc}">
					</h:outputText>
				</p:column>

				<p:column style="text-align: center;  width:17px "
					headerText="Parcela(s)">
					<h:outputText value="#{cp.parcela}" />
				</p:column>

				<p:column sortBy="#{cp.fornecedor}" headerText="Fornecedor"
					width="200">
					<h:outputText value="#{cp.fornecedor.nome}" />
				</p:column>

				<p:column style="text-align: center; width:50px;"
					headerText="Emissão">
					<h:outputText value="#{cp.movimentacoes.get(0).dataDoc}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</p:column>

				<p:column style="text-align: center;width:50px;"
					headerText="Vencimento" sortBy="#{cp.dataVencto}">
					<h:outputText value="#{cp.dataVencto}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</p:column>


				<p:column style="text-align: center; width: 17px;"
					headerText="Dia(s)">
					<h:outputText value="#{cp.dias > 0 ? cp.dias : null}">
					</h:outputText>
				</p:column>

				<p:column style="text-align: right;width:60px;" headerText="Valor">
					<h:outputText value="#{cp.valor}">
						<f:convertNumber type="currency" currencySymbol="R$" />
					</h:outputText>
				</p:column>

				<p:column style="text-align: right;width:60px;"
					headerText="À Receber">
					<h:outputText value="#{cp.valorApagar}">
						<f:convertNumber type="currency" currencySymbol="R$" />
					</h:outputText>
				</p:column>

			</p:dataTable>

			<p:confirmDialog header="Confirmação de Exclusão"
				widgetVar="confirmacaoExclusao" id="confirmacaoExclusaoDialog">
				<f:facet name="message">
					<h:outputText
						value="Tem certeza que deseja excluir o(s) registro(s):" />
					<br />
					<br />
					<p:repeat value="#{contaAPagarBean.contaApagarSelecionadas}"
						var="car">
						<h:panelGrid columns="3" cellpadding="1">
							<h:outputText value="#{car.numDoc}"
								style="font-weight: bold; margin-right:10px;" />
							<h:outputText value="#{car.fornecedor.nome}"
								style="font-weight: bold; margin-right:10px;" />
							<h:outputText value="#{car.valor}" style="font-weight: bold;">
								<f:convertNumber type="currency" />
							</h:outputText>
						</h:panelGrid>
					</p:repeat>
				</f:facet>
				<p:button value="Não"
					onclick="PF('confirmacaoExclusao').hide(); return false;" />
				<p:commandButton value="Sim"
					actionListener="#{contaAPagarBean.excluirSelecionados}"
					update="frm-tabela toolbar-botoes" process="@this"
					oncomplete="if(!args.validationFailed) PF('confirmacaoExclusao').hide()" />
			</p:confirmDialog>

			<p:toolbar styleClass="semPreenchimento">
				<p:toolbarGroup align="right">

					<h:panelGrid id="toolbar-totais" columns="4">
						<p:outputLabel value="Total Avencer:"
							style="font-size:13px; margin-right:30px; color:black" />
						<p:outputLabel
							style="color:green; font-size:14px; margin-right:50px;"
							value="#{contaAPagarBean.totalAVencer}">
							<f:convertNumber type="currency" />
						</p:outputLabel>
						<p:outputLabel value="Total Hoje:"
							style="font-size:13px; margin-right:30px; color:black" />
						<p:outputLabel
							style="color:#5D478B; font-size:14px; margin-right:50px;"
							value="#{contaAPagarBean.totalGeral}">
							<f:convertNumber type="currency" />
						</p:outputLabel>
						<p:outputLabel value="Total Vencido:"
							style="font-size:13px; margin-right:30px; color:black" />
						<p:outputLabel
							style="color:red; font-size:14px; margin-right:50px;"
							value="#{contaAPagarBean.totalAVencido}">
							<f:convertNumber type="currency" />
						</p:outputLabel>
						<p:outputLabel value="Total Selecionado"
							style="font-size:13px; margin-right:30px; color:black" />
						<p:outputLabel
							style="color:blue; font-size:14px; margin-right:10px;"
							value="#{contaAPagarBean.totalSelecionado}">
							<f:convertNumber type="currency" />
						</p:outputLabel>
					</h:panelGrid>
				</p:toolbarGroup>
			</p:toolbar>

		</h:form>






		<!-- LANÇAMENTO DE CONTAS -->

		<p:dialog header="Lançamento Contas a Pagar"
			widgetVar="dialogCadastro" modal="true" width="750" height="430"
			resizable="true" draggable="true" id="dgCadastro" visible="false"
			closeOnEscape="true" appendTo="@(body)">

			<h:form prependId="false" id="frm-cadastro">

				<p:growl id="msn" autoUpdate="true" />

				<h:panelGrid columns="4" id="panelGridCabNota"
					columnClasses="rotuloFiltro1,campoDesRec,rotuloFiltro1">

					<p:outputLabel for="combFornecedor" value="Fornecedor" />
					<p:selectOneMenu id="combFornecedor" autoWidth="false"
						filter="true" value="#{contaAPagarBean.cabContaApagar.fornecedor}"
						required="true" requiredMessage="Selecione um fornecedor."
						filterMatchMode="contains" style="width:250px;"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
						<f:selectItems value="#{contaAPagarBean.carregarFornecedores}"
							var="p" itemLabel="#{p.nome}" itemValue="#{p}" />
					</p:selectOneMenu>

					<p:outputLabel for="txtEmissao" value="Data Entrada" />
					<p:calendar size="11" pattern="dd/MM/yyyy" locale="pt_BR"
						id="txtEmissao" onfocus="mascaraDtCalendar('txtEmissao')"
						styleClass="cssCalender"
						value="#{contaAPagarBean.cabContaApagar.dataDoc}" required="true"
						requiredMessage="Informe uma data de emissão">
						<p:ajax event="dateSelect" process="@this" update="txtVencimento" />
					</p:calendar>

					<p:outputLabel for="txtNum" value="Documento" />
					<p:inputText id="txtNum" size="11"
						value="#{contaAPagarBean.cabContaApagar.documento}">
						<p:ajax event="blur" process="@this" />
					</p:inputText>

					<p:outputLabel for="txtVencimento" value="Vencimento" />
					<p:calendar size="11" pattern="dd/MM/yyyy" locale="pt_BR"
						id="txtVencimento" styleClass="cssCalender"
						mindate="#{contaAPagarBean.cabContaApagar.dataDoc}"
						onfocus="mascaraDtCalendar('txtVencimento')"
						value="#{contaAPagarBean.cabContaApagar.dataVencto}"
						required="true"
						requiredMessage="Informe uma data para a vencimento">
						<p:ajax process="@this" event="dateSelect" />
					</p:calendar>

				</h:panelGrid>

				<p:tabView prependId="false"
					style="width: 99%; height: 300px; margin-top:10px; ">

					<p:tab title="Rateio da Nota">
						<ui:include src="aba_rateio.xhtml" />
					</p:tab>

					<p:tab title="Forma de Pagamento">
						<ui:include src="aba_forma_pagto.xhtml" />
					</p:tab>

				</p:tabView>

				<p:toolbar style="margin-top: 10px; margin-button:5px"
					styleClass="semPreenchimento">
					<p:toolbarGroup align="right" style="margin-right: 0px;">
						<p:commandButton value="Salvar" icon="fa fa-save"
							process="panelGridCabNota @this"
							action="#{contaAPagarBean.salvar()}"
							update=":frm-tabela :toolbar-totais panelGridCabNota"
							oncomplete="if(args.sucesso == true) PF('dialogCadastro').hide()">
						</p:commandButton>
					</p:toolbarGroup>
				</p:toolbar>

			</h:form>

		</p:dialog>

		<p:dialog header="Baixa de titulo(s)" widgetVar="baixaTitulo"
			modal="true" resizable="false" id="dialogBaixaTitulo"
			draggable="true" closeOnEscape="true" width="750" height="370"
			appendTo="@(body)">

			<p:ajax event="close"
				update="frm-baixa-titulo frm-tabela toolbar-botoes"
				listener="#{contaAPagarBean.closeBaixaTitulo()}" />

			<h:form prependId="false" id="frm-baixa-titulo">


				<p:tabView prependId="false"
					style="width: 99%; height: 340px; margin-top:10px;">

					<p:tab title="Informação do titulo">
						<p:dataTable id="tabela-parcela" style="width:auto;"
							value="#{contaAPagarBean.listaContasApagar}" var="contaApagar"
							rowIndexVar="idx" scrollable="true" scrollHeight="165"
							editable="true" editMode="cell">

							<p:ajax event="cellEdit" listener="#{contaAPagarBean.onCellEdit}" />

							<p:column style="text-align:center; width:10px;"
								headerText="Parc.">
								<h:outputText value="#{contaApagar.parcela}" />
							</p:column>
							<p:column style="width:25px;" headerText="Doc.">
								<h:outputLabel value="#{contaApagar.numDoc}" />
							</p:column>
							<p:column style="text-align:center; width:30px;"
								headerText="Vencto">
								<h:outputLabel value="#{contaApagar.dataVencto}">
									<f:convertDateTime pattern="dd/MM/yy" />
								</h:outputLabel>
							</p:column>
							<p:column style="text-align:right; width:60px;"
								headerText="Valor">
								<h:outputLabel for="txtBaixaMultaJuro"
									value="#{contaApagar.valor}">
									<f:convertNumber type="currency" />
								</h:outputLabel>
							</p:column>
							<p:column style="text-align:right; width:55px;"
								headerText="Multa/Juros">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputLabel for="txtBaixaMultaJuro"
											value="#{contaApagar.valorMultaJuros}">
											<f:convertNumber type="currency" currencySymbol="" />
										</h:outputLabel>
									</f:facet>
									<f:facet name="input">
										<p:inputText style="width:85%" id="txtBaixaMultaJuro"
											value="#{contaApagar.valorMultaJuros}" styleClass="moeda"
											onfocus="configurarMoed();" converter="moedaConverter">
											<p:ajax event="blur"
												update="tabela-parcela txtJuro txtVlrPago" />
										</p:inputText>
									</f:facet>
								</p:cellEditor>
							</p:column>
							<p:column style="text-align:right; width:55px;"
								headerText="Desconto">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputLabel value="#{contaApagar.valorDesc}">
											<f:convertNumber type="currency" currencySymbol="" />
										</h:outputLabel>
									</f:facet>
									<f:facet name="input">
										<p:inputText style="width:85%" styleClass="moeda"
											value="#{contaApagar.valorDesc}" onfocus="configurarMoeda();"
											converter="moedaConverter">
											<p:ajax event="blur"
												update="tabela-parcela txtDesc txtVlrPago" />
										</p:inputText>
									</f:facet>
								</p:cellEditor>
							</p:column>
							<p:column style="text-align:right; width:60px;"
								headerText="Valor à pagar">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputLabel value="#{contaApagar.valorApagar}">
											<!-- <f:convertNumber currencySymbol="R$" type="currency" /> -->
											<f:convertNumber type="currency" />
										</h:outputLabel>
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{contaApagar.valorApagar}"
											style="width:96%" styleClass="moeda"
											onfocus="configurarMoeda();">
											<p:ajax event="blur" update="tabela-parcela" />
										</p:inputText>
									</f:facet>
								</p:cellEditor>
							</p:column>

						</p:dataTable>


						<p:toolbar style="margin-top:25px;" styleClass="semPreenchimento">

							<p:toolbarGroup align="right">

								<hr />
								<h:panelGrid columns="4"
									columnClasses="rotuloInfTitulo1,campoInfTitulo1,rotuloInfTitulo1,campoInfTitulo2">

									<p:outputLabel value="SubTotal" styleClass="corLabel" />
									<p:inputText disabled="true"
										value="#{contaAPagarBean.contaAPagar.valor}" size="10">
										<f:convertNumber type="currency" />
									</p:inputText>


									<p:outputLabel value="Multa/Juros" styleClass="corLabel" />
									<p:inputText id="txtJuro" onfocus="formatoMoeda('txtJuro')"
										disabled="true" size="10"
										value="#{contaAPagarBean.totalMultaJuros}">
										<f:convertNumber type="currency" />
									</p:inputText>

									<p:outputLabel value="Desconto" styleClass="corLabel" />
									<p:inputText id="txtDesc" value="#{contaAPagarBean.totalDesc}"
										size="10" disabled="true">
										<f:convertNumber type="currency" />
									</p:inputText>

									<p:outputLabel value="Total à pagar" styleClass="corLabel" />
									<p:inputText id="txtVlrPago" disabled="true"
										value="#{contaAPagarBean.totalApagar}" size="10">
										<f:convertNumber type="currency" />
									</p:inputText>

								</h:panelGrid>

							</p:toolbarGroup>

						</p:toolbar>

					</p:tab>

					<p:tab title="Informação conta a debitar">

						<h:panelGrid columns="4" style="margin-top:10px;"
							columnClasses="rotuloInfConta1,campoInfConta1,rotuloInfConta2,campoInfConta2">

							<p:outputLabel value="Forma baixa" />
							<p:selectOneMenu autoWidth="false" style="width:250px;"
								value="#{contaAPagarBean.contaAPagar.formaBaixa}"
								converter="omnifaces.SelectItemsConverter" required="true"
								requiredMessage="Selecione tipo">
								<f:selectItems value="#{contaAPagarBean.listaFormaBaixa}"
									var="fp" itemLabel="#{fp.descricao}" itemValue="#{fp}" />
							</p:selectOneMenu>

							<p:outputLabel value="Data Baixa" for="dtBaixa" />
							<p:calendar size="11" pattern="dd/MM/yyyy" locale="pt_BR"
								value="#{contaAPagarBean.contaAPagar.dataPagto}" id="dtBaixa"
								onfocus="mascaraDtCalendar('dtBaixa')" styleClass="cssCalender"
								required="true" requiredMessage="Informe uma data da baixa">
							</p:calendar>

							<p:outputLabel value="Conta a debitar" for="txtContaBaixar" />
							<p:selectOneMenu autoWidth="false" style="width:250px;"
								id="txtContaBaixar" required="true" filter="true"
								requiredMessage="Selecione uma conta."
								value="#{contaAPagarBean.movimentacao.planoConta}"
								converter="omnifaces.SelectItemsConverter">
								<f:selectItem itemLabel="Selecione a conta" itemValue="#{null}"
									noSelectionOption="true" />
								<f:selectItems value="#{contaAPagarBean.carregarContasADebitar}"
									var="conta" itemLabel="#{conta.nome}" itemValue="#{conta}" />
							</p:selectOneMenu>

							<p:outputLabel value="Valor" for="txtConfirmaBaixar" />
							<h:panelGroup>
								<p:inputText id="txtConfirmaBaixar" size="11" required="true"
									requiredMessage="Informe o valor."
									onfocus="formatoMoeda('txtConfirmaBaixar')">
									<f:convertNumber type="currency" />
								</p:inputText>
								<p:commandButton title="Add Conta" process="@this"
									icon="fa fa-download" styleClass="semPreenchimento">
								</p:commandButton>
							</h:panelGroup>

						</h:panelGrid>

						<p:dataTable id="tabela-forma"
							style="width:auto; margin-top:10px;" rowIndexVar="idx"
							scrollable="true" scrollHeight="145" var="r">

							<p:column style="width:40px; text-align:center;"
								headerText="Ação">
								<p:commandButton title="Excluir" process="@this"
									icon="ui-icon-trash" styleClass="semPreenchimento">
								</p:commandButton>
							</p:column>

							<p:column style="text-align:center; width:300px;"
								headerText="Conta a debitar">
								<h:outputText />
							</p:column>

							<p:column style="text-align:rigth; width:100px;"
								headerText="Valor">
								<h:outputText />
							</p:column>

						</p:dataTable>

						<p:toolbar style="margin-top:10px;" styleClass="semPreenchimento">
							<p:toolbarGroup align="right">
								<p:commandButton value="Confirmar" process="@this"
									icon="ui-icon-check">
								</p:commandButton>
							</p:toolbarGroup>
						</p:toolbar>


					</p:tab>


				</p:tabView>


			</h:form>

		</p:dialog>

		<p:dialog header="Edição de parcela(s)"
			widgetVar="dialogEdicaoParcela" modal="true" resizable="false"
			draggable="true" id="dgEdicaoParcela" closeOnEscape="true"
			width="280" height="190" appendTo="@(body)">

			<p:ajax event="close" update="panelGridCabNota" />

			<h:form id="edit" prependId="false">

				<p:growl autoUpdate="true" />

				<h:panelGrid id="panelEdicaoParcela" columns="2"
					style="margin-top:10px;" columnClasses="rotulo">


					<p:outputLabel value="Parcela" />
					<p:inputText value="#{contaAPagarBean.parcelaEditar.parcela}"
						disabled="true" size="11" />

					<p:outputLabel value="Documento" />
					<p:inputText value="#{contaAPagarBean.parcelaEditar.numDoc}"
						size="11" />

					<p:outputLabel for="txtEdicaoVencimento" value="Vencimento" />
					<p:inputText size="11" id="txtEdicaoVencimento"
						onfocus="mascaraDtInput('txtEdicaoVencimento')"
						value="#{contaAPagarBean.parcelaEditar.dataVencto}"
						required="true"
						requiredMessage="Informe uma data para a vencimento">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</p:inputText>

					<p:outputLabel value="Valor" for="txtEdicaoVlrPag" />
					<p:inputText id="txtEdicaoVlrPag" required="true"
						requiredMessage="Informe um valor"
						onfocus="formatoMoeda('txtEdicaoVlrPag')"
						value="#{contaAPagarBean.parcelaEditar.valor}" placeholder="VALOR"
						size="11">
						<f:validateDoubleRange minimum="0.01" />
						<f:convertNumber type="currency" />
					</p:inputText>

				</h:panelGrid>

				<p:toolbar style="margin-top: 15px" styleClass="semPreenchimento">
					<p:toolbarGroup align="right" style="margin-right: 0px;">
						<p:commandButton value="Salvar" icon="fa fa-save"
							action="#{contaAPagarBean.salvarEdicaoParcela()}"
							process="@this edit"
							oncomplete="if(!args.validationFailed) PF('dialogEdicaoParcela').hide()"
							update="edit tblPagto txtTotalPagto"
							id="salvarCommandButtonParcela">
						</p:commandButton>
					</p:toolbarGroup>
				</p:toolbar>

				<p:defaultCommand target="salvarCommandButtonParcela" />

			</h:form>

		</p:dialog>


		<p:dialog header="Filtro" widgetVar="dialogFiltro" modal="true"
			resizable="false" draggable="true" id="dgFiltro" visible="false"
			closeOnEscape="true" width="398" height="225" appendTo="@(body)">

			<h:form id="frm-dialog" prependId="false" style="margin-top:10px;">

				<h:panelGrid columnClasses="rotuloFiltro1,campoFiltro1" columns="2">

					<p:outputLabel value="Fornecedor" />
					<p:selectOneMenu id="combFornecedorFiltro" autoWidth="false"
						filter="true" value="#{contaAPagarBean.filtro.fornecedor}"
						filterMatchMode="contains" style="width:215px;"
						converter="omnifaces.SelectItemsConverter">
						<f:selectItem itemLabel="Selecione..." itemValue="#{null}" />
						<f:selectItems value="#{contaAPagarBean.carregarFornecedores}"
							var="pessoa" itemLabel="#{pessoa.nome}" itemValue="#{pessoa}" />
					</p:selectOneMenu>

					<p:outputLabel value="Emissão" />
					<h:panelGroup>
						<p:calendar id="txtFiltroDtIni"
							value="#{contaAPagarBean.filtro.dataEmissaoIni}" size="10"
							pattern="dd/MM/yyyy" locale="pt_BR"
							onfocus="mascaraDtCalendar('txtFiltroDtIni')">
							<p:ajax event="dateSelect" process="@this" />
						</p:calendar>
						<p:outputLabel value="a"
							style="margin-left:8px; margin-right:8px;" />
						<p:calendar value="#{contaAPagarBean.filtro.dataEmissaoFim}"
							size="10" id="txtEmissaoDtFim" pattern="dd/MM/yyyy"
							locale="pt_BR" onfocus="mascaraDtCalendar('txtEmissaoDtFim')">
							<p:ajax event="dateSelect" process="@this" />
							<f:attribute name="startDate"
								value="#{contaAPagarBean.filtro.dataEmissaoIni}" />
							<f:validator validatorId="primeDateRangeValidator" />
						</p:calendar>
					</h:panelGroup>

					<p:outputLabel value="Vencimento" />
					<h:panelGroup>
						<p:calendar id="txtFiltroDtVenctoIni"
							value="#{contaAPagarBean.filtro.dataVenctoIni}" size="10"
							pattern="dd/MM/yyyy" locale="pt_BR"
							onfocus="mascaraDtCalendar('txtFiltroDtVenctoIni')">
							<p:ajax event="dateSelect" process="@this" />
						</p:calendar>
						<p:outputLabel value="a"
							style="margin-left:8px; margin-right:8px;" />
						<p:calendar value="#{contaAPagarBean.filtro.dataVenctoFim}"
							size="10" id="txtFiltroDtVenctoFim" pattern="dd/MM/yyyy"
							locale="pt_BR"
							onfocus="mascaraDtCalendar('txtFiltroDtVenctoFim')">
							<p:ajax event="dateSelect" process="@this" />
							<f:attribute name="startDate"
								value="#{contaAPagarBean.filtro.dataVenctoIni}" />
							<f:validator validatorId="primeDateRangeValidator" />
						</p:calendar>
					</h:panelGroup>

					<p:outputLabel value="Documento" />
					<p:inputText value="#{contaAPagarBean.filtro.doc}"
						style="width:230px;" />

					<p:outputLabel value="Valor" />
					<h:panelGroup>
						<p:inputNumber value="#{contaAPagarBean.filtro.valor1}" size="10"
							decimalSeparator="," thousandSeparator="." />
						<p:outputLabel value="a"
							style="margin-left:8px; margin-right:8px;" />
						<p:inputNumber value="#{contaAPagarBean.filtro.valor2}" size="10"
							decimalSeparator="," thousandSeparator="." />
					</h:panelGroup>


				</h:panelGrid>

				<p:toolbar style="margin-top: 20px" styleClass="semPreenchimento">
					<p:toolbarGroup align="right" style="margin-right: 0px;">
						<p:commandButton value="Pesquisar" icon="fa fa-search"
							actionListener="#{contaAPagarBean.pesquisar}"
							id="btnFiltroPesquisar" process="frm-dialog"
							oncomplete="if(args.sucesso == true) PF('dialogFiltro').hide()"
							update="frm-tabela frm-menu frm-dialog" />
					</p:toolbarGroup>
				</p:toolbar>

			</h:form>
		</p:dialog>


		<p:dialog header="Edição bloqueada" widgetVar="dialogInfoEdicao"
			modal="true" resizable="false" draggable="true" id="dgInfoEdicao"
			closeOnEscape="true" width="280" height="75" appendTo="@(body)">

			<h:panelGrid style="margin-top:15px;">
				<p:outputLabel
					value="Não é possivel editar Conta a pagar pois existem parcela(s) paga(s)" />
				<ui:remove>
					<h:graphicImage library="images" name="canceloFile48.png"
						style="margin-left: 90px" height="45px" />
				</ui:remove>
			</h:panelGrid>

		</p:dialog>


	</ui:define>

</ui:composition>
